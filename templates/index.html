{% extends "base.html" %}

{% block page_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}

{% block content %}
<!-- Hero Section Beach Theme -->
<section class="hero-beach">
    <div class="beach-background">
        <div class="waves-pattern"></div>
        <div class="floating-elements">
            <div class="beach-element" style="--delay: 0s;"><i class="fas fa-umbrella-beach"></i></div>
            <div class="beach-element" style="--delay: 1s;"><i class="fas fa-sun"></i></div>
            <div class="beach-element palm-tree" style="--delay: 2s;"><i class="fas fa-tree"></i></div>
            <div class="beach-element" style="--delay: 3s;"><i class="fas fa-shell"></i></div>
            <div class="beach-element palm-tree" style="--delay: 4s;"><i class="fas fa-seedling"></i></div>
            <div class="beach-element" style="--delay: 5s;"><i class="fas fa-starfish"></i></div>
        </div>
    </div>
    
    <div class="container">
        <div class="hero-content-beach">
            <div class="hero-main">
                <!-- Logo central da Prima Arte -->
                <div class="logo-showcase">
                    <div class="logo-frame">
                        <img src="{{ url_for('static', filename='images/logo.jpg') }}" alt="Prima Arte" class="logo-main">
                        <div class="logo-glow"></div>
                    </div>
                </div>
                
                <div class="hero-text-beach">
                    <h1 class="beach-title">
                        <span class="title-line">Artesanato Único</span>
                        <span class="title-sub">História Especial</span>
                    </h1>
                    <p class="beach-description">
                        Cada peça é cuidadosamente criada à mão, combinando técnicas tradicionais com o charme carioca. 
                        Do nosso ateliê no Rio para sua casa, levamos <strong>amor em cada costura</strong>.
                    </p>
                    <div class="beach-features">
                        <div class="feature-beach">
                            <div class="feature-icon-beach"><i class="fas fa-heart"></i></div>
                            <span>Com Amor</span>
                        </div>
                        <div class="feature-beach">
                            <div class="feature-icon-beach"><i class="fas fa-sun"></i></div>
                            <span>Carioca</span>
                        </div>
                        <div class="feature-beach">
                            <div class="feature-icon-beach"><i class="fas fa-star"></i></div>
                            <span>Único</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Preview dos produtos em destaque no hero -->
            {% if featured_products %}
            <div class="hero-showcase-beach">
                <div class="products-preview-beach">
                    <h3 class="preview-title-beach">
                        <i class="fas fa-sparkles"></i> Destaques do Ateliê
                    </h3>
                    <div class="preview-grid-beach">
                        {% for product in featured_products[:3] %}
                        <div class="preview-card-beach" style="--delay: {{ loop.index0 * 0.2 }}s;">
                            <div class="card-image-beach">
                                {% if product.images and product.images|length > 0 %}
                                <img src="{{ product.images[0] }}" alt="{{ product.name }}">
                                {% else %}
                                <div class="card-placeholder-beach">
                                    <i class="fas fa-image"></i>
                                </div>
                                {% endif %}
                                <div class="card-overlay-beach">
                                    <a href="{{ url_for('product_detail', product_slug=product.name|slug) }}" class="card-link-beach">
                                        <i class="fas fa-eye"></i> Ver
                                    </a>
                                </div>
                            </div>
                            <div class="card-info-beach">
                                <h4>{{ product.name }}</h4>
                                <div class="price-section-beach">
                                    {% if product.promotion_active and product.promotional_price %}
                                    <span class="regular-price-beach">R$ {{ "%.2f"|format(product.price) }}</span>
                                    <span class="promotional-price-beach">R$ {{ "%.2f"|format(product.promotional_price) }}</span>
                                    {% else %}
                                    <span class="card-price-beach">R$ {{ "%.2f"|format(product.price) }}</span>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endif %}
        </div>
        
        <div class="hero-actions-beach">
            <a href="{{ url_for('products') }}" class="btn-beach-primary">
                <i class="fas fa-shopping-bag"></i>
                <span>Explorar Produtos</span>
                <div class="wave-effect"></div>
            </a>
            <a href="https://wa.me/5521973108293?text=Olá! Gostaria de conhecer mais sobre a Prima Arte" target="_blank" class="btn-beach-secondary">
                <i class="fab fa-whatsapp"></i>
                <span>Conversar no WhatsApp</span>
            </a>
        </div>
    </div>
</section>

<!-- Announcements Section -->
{% if announcements %}
<section class="announcements-beach">
    <div class="container">
        <h2 class="announcements-title-beach">
            <i class="fas fa-bullhorn"></i> Novidades!
        </h2>
        <div class="announcements-grid-beach">
            {% for announcement in announcements %}
            <div class="announcement-card-beach">
                <div class="announcement-header-beach">
                    <div class="announcement-icon-beach">
                        <i class="fas fa-star"></i>
                    </div>
                    <span class="announcement-badge-beach">Novidade</span>
                </div>
                <h3>{{ announcement.title }}</h3>
                <p>{{ announcement.content }}</p>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endif %}

<!-- Beach Story Section -->
<section class="beach-story">
    <div class="container">
        <div class="story-content-beach">
            <div class="story-text-beach">
                <h2 class="story-title-beach">
                    <i class="fas fa-map-marker-alt"></i> Direto do Rio de Janeiro
                </h2>
                <p>
                    Nossa história começou nas areias cariocas, onde a criatividade encontra a brisa do mar. 
                    Inspiradas pela beleza natural da Cidade Maravilhosa, criamos peças que carregam 
                    toda a energia e alegria do Rio.
                </p>
                <p>
                    Cada produto é uma pequena obra de arte, feita com as mãos e o coração de artesãs 
                    apaixonadas por sua terra e sua arte.
                </p>
            </div>
            <div class="story-visual-beach">
                <div class="beach-icons">
                    <div class="beach-icon-item">
                        <i class="fas fa-palette"></i>
                        <span>Design Carioca</span>
                    </div>
                    <div class="beach-icon-item">
                        <i class="fas fa-hands"></i>
                        <span>Feito à Mão</span>
                    </div>
                    <div class="beach-icon-item">
                        <i class="fas fa-heart"></i>
                        <span>Com Carinho</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- SEÇÃO PRODUTOS EM DESTAQUE - PRINCIPAL -->
{% if featured_products %}
<section class="featured-beach">
    <div class="container">
        <div class="section-header-beach">
            <h2 class="section-title-beach">
                <i class="fas fa-star"></i>
                Produtos em Destaque
                <i class="fas fa-star"></i>
            </h2>
            <p class="section-subtitle-beach">
                Peças especiais que capturam a essência carioca
            </p>
        </div>
        
        <div class="products-grid-beach">
            {% for product in featured_products %}
            <div class="product-card-beach" data-aos="fade-up" data-aos-delay="{{ loop.index0 * 100 }}">
                <div class="product-image-beach">
                    {% if product.images and product.images|length > 0 %}
                    <img src="{{ product.images[0] }}" alt="{{ product.name }}">
                    {% else %}
                    <div class="no-image-beach">
                        <i class="fas fa-image"></i>
                    </div>
                    {% endif %}

                    {% if product.promotion_active and product.promotional_price %}
                        <div class="promotion-badge-beach">
                            <i class="fas fa-fire"></i>
                            {% set discount = ((product.price - product.promotional_price) / product.price * 100) | round %}
                            {{ discount }}% OFF
                        </div>
                    {% elif product.featured %}
                        <div class="product-badge-beach">
                            <i class="fas fa-star"></i>
                            Destaque
                        </div>
                    {% endif %}
                    
                    <div class="product-hover-beach">
                        <a href="{{ url_for('product_detail', product_slug=product.name|slug) }}" class="btn-view-beach">
                            <i class="fas fa-eye"></i>
                            Ver Detalhes
                        </a>
                    </div>
                </div>
                
                <div class="product-info-beach">
                    <h3>{{ product.name }}</h3>
                    <p>{{ product.description[:80] }}{% if product.description|length > 80 %}...{% endif %}</p>
                    
                    <div class="product-price-beach">
                        {% if product.promotion_active and product.promotional_price %}
                            <span class="regular-price-main">R$ {{ "%.2f"|format(product.price) }}</span>
                            <span class="promotional-price-main">R$ {{ "%.2f"|format(product.promotional_price) }}</span>
                        {% else %}
                            <span class="price-current">R$ {{ "%.2f"|format(product.price) }}</span>
                        {% endif %}
                    </div>
                    
                    <a href="{{ url_for('product_detail', product_slug=product.name|slug) }}" class="btn-buy-beach">
                        <i class="fas fa-shopping-cart"></i>
                        Comprar Agora
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="section-footer-beach">
            <a href="{{ url_for('products') }}" class="btn-view-all-beach">
                <i class="fas fa-th"></i>
                Ver Todos os Produtos
            </a>
        </div>
    </div>
</section>
{% else %}
<!-- DEBUG: Mostrar se não há produtos em destaque -->
<section class="debug-section" style="padding: 2rem 0; background: #f8f9fa; text-align: center;">
    <div class="container">
        <h3 style="color: #dc3545;">⚠️ Debug: Nenhum produto em destaque encontrado</h3>
        <p>Verifique se há produtos marcados com "featured": true no data.json</p>
    </div>
</section>
{% endif %}

<!-- Categories Section Beach Theme -->
<section class="categories-beach">
    <div class="container">
        <div class="section-header-beach">
            <h2 class="section-title-beach">Nossas Categorias</h2>
            <p class="section-subtitle-beach">Explore nossa diversidade de produtos artesanais</p>
        </div>
        
        <div class="categories-grid-beach">
            <div class="category-card-beach">
                <div class="category-icon-beach">
                    <i class="fas fa-heart"></i>
                </div>
                <h3>Com Amor</h3>
                <p>Peças feitas com carinho e dedicação especial</p>
                <a href="{{ url_for('products', categoria='com-amor') }}" class="btn-category-beach">Ver Produtos</a>
            </div>
            
            <div class="category-card-beach">
                <div class="category-icon-beach">
                    <i class="fas fa-sun"></i>
                </div>
                <h3>Carioca</h3>
                <p>Inspiração da Cidade Maravilhosa em cada detalhe</p>
                <a href="{{ url_for('products', categoria='carioca') }}" class="btn-category-beach">Ver Produtos</a>
            </div>
            
            <div class="category-card-beach">
                <div class="category-icon-beach">
                    <i class="fas fa-star"></i>
                </div>
                <h3>Único</h3>
                <p>Peças exclusivas e personalizadas para você</p>
                <a href="{{ url_for('products', categoria='unico') }}" class="btn-category-beach">Ver Produtos</a>
            </div>
        </div>
    </div>
</section>

<!-- Contact CTA Beach Theme -->
<section class="contact-cta-beach">
    <div class="container">
        <div class="cta-content-beach">
            <div class="cta-text-beach">
                <h2>Vamos Conversar?</h2>
                <p>Entre em contato conosco pelo WhatsApp e descubra como podemos criar algo especial para você!</p>
            </div>
            <div class="cta-actions-beach">
                <a href="https://wa.me/5521973108293?text=Olá! Gostaria de conhecer mais sobre os produtos da Prima Arte!" 
                   target="_blank" class="btn-whatsapp-beach">
                    <i class="fab fa-whatsapp"></i>
                    Chamar no WhatsApp
                </a>
                <a href="https://www.instagram.com/primaarte2025/" target="_blank" class="btn-instagram-beach">
                    <i class="fab fa-instagram"></i>
                    Seguir no Instagram
                </a>
            </div>
        </div>
    </div>
</section>

<!-- CSS Inline para garantir que funcione -->
<style>
/* Featured Products Beach */
.featured-beach {
    padding: 5rem 0;
    background: white;
}

.section-header-beach {
    text-align: center;
    margin-bottom: 4rem;
}

.section-title-beach {
    font-family: var(--font-heading);
    font-size: 2.8rem;
    color: #20B2AA;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
}

.section-title-beach i {
    color: #FFD700;
}

.section-subtitle-beach {
    color: #4682B4;
    font-size: 1.2rem;
    max-width: 600px;
    margin: 0 auto;
}

.products-grid-beach {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2.5rem;
    margin-bottom: 3rem;
}

.product-card-beach {
    background: white;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: 0 8px 30px rgba(32, 178, 170, 0.1);
    transition: all 0.3s ease;
    border: 1px solid rgba(32, 178, 170, 0.1);
}

.product-card-beach:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 50px rgba(32, 178, 170, 0.2);
}

.product-image-beach {
    position: relative;
    overflow: hidden;
}

.product-image-beach img {
    width: 100%;
    height: 250px;
    object-fit: cover;
    transition: transform 0.3s ease;
}

.no-image-beach {
    width: 100%;
    height: 250px;
    background: linear-gradient(135deg, #87CEEB, #4682B4);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 3rem;
}

.promotion-badge-beach {
    position: absolute;
    top: 15px;
    right: 15px;
    background: #FF6347;
    color: white;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.3rem;
    box-shadow: 0 3px 15px rgba(255, 99, 71, 0.3);
}

.product-badge-beach {
    position: absolute;
    top: 15px;
    right: 15px;
    background: #FFD700;
    color: #4682B4;
    padding: 0.5rem 1rem;
    border-radius: 20px;
    font-size: 0.85rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.3rem;
    box-shadow: 0 3px 15px rgba(255, 215, 0, 0.3);
}

.product-hover-beach {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(32, 178, 170, 0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.product-card-beach:hover .product-hover-beach {
    opacity: 1;
}

.product-card-beach:hover .product-image-beach img {
    transform: scale(1.1);
}

.btn-view-beach {
    background: white;
    color: #20B2AA;
    padding: 0.8rem 1.5rem;
    border-radius: 25px;
    text-decoration: none;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
    transform: translateY(20px);
}

.product-card-beach:hover .btn-view-beach {
    transform: translateY(0);
}

.btn-view-beach:hover {
    background: #FFD700;
    color: white;
}

.product-info-beach {
    padding: 2rem;
}

.product-info-beach h3 {
    font-family: var(--font-heading);
    font-size: 1.4rem;
    color: #20B2AA;
    margin-bottom: 0.8rem;
    line-height: 1.3;
}

.product-info-beach p {
    color: #4682B4;
    line-height: 1.5;
    margin-bottom: 1rem;
    font-size: 0.95rem;
}

.product-price-beach {
    margin-bottom: 1.5rem;
}

.regular-price-main {
    font-size: 1.2rem;
    color: #999;
    text-decoration: line-through;
    margin-right: 0.5rem;
}

.promotional-price-main {
    font-size: 1.6rem;
    font-weight: 700;
    color: #FF6347;
}

.price-current {
    font-size: 1.6rem;
    font-weight: 700;
    color: #FFD700;
}

.btn-buy-beach {
    width: 100%;
    background: linear-gradient(135deg, #20B2AA, #87CEEB);
    color: white;
    text-decoration: none;
    padding: 1rem 2rem;
    border-radius: 15px;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition: all 0.3s ease;
    min-height: 50px;
}

.btn-buy-beach:hover {
    background: linear-gradient(135deg, #87CEEB, #20B2AA);
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(32, 178, 170, 0.3);
}

.section-footer-beach {
    text-align: center;
}

.btn-view-all-beach {
    background: linear-gradient(135deg, #4682B4, #20B2AA);
    color: white;
    padding: 1.2rem 2.5rem;
    border-radius: 25px;
    text-decoration: none;
    font-weight: 600;
    font-size: 1.1rem;
    display: inline-flex;
    align-items: center;
    gap: 1rem;
    transition: all 0.3s ease;
    box-shadow: 0 8px 30px rgba(70, 130, 180, 0.3);
}

.btn-view-all-beach:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 45px rgba(70, 130, 180, 0.4);
}

/* Debug Section */
.debug-section {
    border: 2px dashed #dc3545;
    margin: 2rem 0;
}

/* Responsive */
@media (max-width: 768px) {
    .products-grid-beach {
        grid-template-columns: 1fr;
        gap: 2rem;
    }
    
    .section-title-beach {
        font-size: 2.2rem;
        flex-direction: column;
        gap: 0.5rem;
    }
}
</style>

<script>
// Simple AOS-like animation
function animateOnScroll() {
    const elements = document.querySelectorAll('[data-aos]');
    elements.forEach(element => {
        const elementTop = element.getBoundingClientRect().top;
        const elementVisible = 150;
        
        if (elementTop < window.innerHeight - elementVisible) {
            element.classList.add('aos-animate');
        }
    });
}

document.addEventListener('DOMContentLoaded', function() {
    animateOnScroll();
    window.addEventListener('scroll', animateOnScroll);
});
</script>
{% endblock %}