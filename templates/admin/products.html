{% extends "base.html" %} {% block page_css %} <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}"> <style> .promotion-badge { position: absolute; top: 10px; left: 10px; background: linear-gradient(135deg, #4CAF50, #45A049); color: white; padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.8rem; font-weight: 600; display: flex; align-items: center; gap: 0.3rem; z-index: 2; } .price-info { display: flex; flex-direction: column; gap: 0.3rem; } .regular-price { text-decoration: line-through; opacity: 0.6; font-size: 0.9rem; } .promotional-price { color: #4CAF50; font-weight: 700; font-size: 1.1rem; } .discount-badge { background: #4CAF50; color: white; padding: 0.2rem 0.5rem; border-radius: 10px; font-size: 0.7rem; font-weight: 600; width: fit-content; } </style> {% endblock %} {% block title %}Gerenciar Produtos - Prima Arte Admin{% endblock %} {% block content %} <div class="admin-nav"> <div class="container"> <h1><i class="fas fa-box-open"></i> Gerenciar Produtos</h1> <div class="nav-links"> <a href="{{ url_for('admin_product_new') }}" class="btn-admin-primary"> <i class="fas fa-plus"></i> Novo Produto </a> <a href="{{ url_for('admin_dashboard') }}"><i class="fas fa-dashboard"></i> Dashboard</a> <a href="{{ url_for('admin_logout') }}">Sair</a> </div> </div> </div> <section class="section"> <div class="container"> <div class="products-admin-grid"> {% for product in products %} <div class="product-admin-card"> <div class="product-admin-image"> {% if product.images and product.images|length > 0 %} <img src="{{ product.images[0] }}" alt="{{ product.name }}"> {% else %} <div class="no-image-admin"> <i class="fas fa-image"></i> </div> {% endif %} {% if product.promotion_active and product.promotional_price %} <div class="promotion-badge"> <i class="fas fa-fire"></i> {% set discount = ((product.price - product.promotional_price) / product.price * 100) | round %} {{ discount }}% OFF </div> {% elif product.featured %} <div class="featured-badge-admin"> <i class="fas fa-star"></i> Destaque </div> {% endif %} </div> <div class="product-admin-info"> <h3>{{ product.name }}</h3> <p class="product-admin-category">{{ product.category|title }}</p> <div class="price-info"> {% if product.promotion_active and product.promotional_price %} <span class="regular-price">R$ {{ "%.2f"|format(product.price) }}</span> <span class="promotional-price">R$ {{ "%.2f"|format(product.promotional_price) }}</span> {% set discount = ((product.price - product.promotional_price) / product.price * 100) | round %} <div class="discount-badge">{{ discount }}% desconto</div> {% else %} <span class="product-admin-price">R$ {{ "%.2f"|format(product.price) }}</span> {% endif %} </div> <p class="product-admin-description">{{ product.description[:80] }}{% if product.description|length > 80 %}...{% endif %}</p> </div> <div class="product-admin-actions"> <a href="{{ url_for('product_detail', product_slug=product.name|slug) }}" class="btn-admin-view" target="_blank" title="Ver no site"> <i class="fas fa-eye"></i> </a> <a href="{{ url_for('admin_product_edit', product_id=product.id) }}" class="btn-admin-edit" title="Editar"> <i class="fas fa-edit"></i> </a> <a href="{{ url_for('admin_product_delete', product_id=product.id) }}" class="btn-admin-delete" title="Excluir" onclick="return confirm('Tem certeza que deseja excluir este produto?')"> <i class="fas fa-trash"></i> </a> </div> </div> {% endfor %} </div> {% if not products %} <div class="empty-state-admin"> <i class="fas fa-box-open"></i> <h3>Nenhum produto cadastrado</h3> <p>Comece criando seu primeiro produto!</p> <a href="{{ url_for('admin_product_new') }}" class="btn-admin-primary"> <i class="fas fa-plus"></i> Criar Primeiro Produto </a> </div> {% endif %} </div> </section> {% endblock %}